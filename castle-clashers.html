<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Castle Clashers</title>
  <link rel="stylesheet" href="castle-clashers.css" />
</head>
<body>
  <div id="game-root">
    <canvas id="game" width="540" height="960" aria-label="Game canvas"></canvas>

    <!-- Top (P2) hand -->
    <div class="hand hand-top" id="handP2" role="group" aria-label="Player 2 hand">
      <button class="card" data-player="P2" data-card="knight">Knight<br><small>3</small></button>
      <button class="card" data-player="P2" data-card="archer">Archer<br><small>2</small></button>
      <button class="card" data-player="P2" data-card="goblin">Goblin<br><small>2</small></button>
      <button class="card" data-player="P2" data-card="giant">Giant<br><small>5</small></button>
      <button class="card" data-player="P2" data-card="fireball">Fireball<br><small>4</small></button>
      <div class="mana" id="manaP2" aria-hidden="true"><div class="fill"></div><span>10</span></div>
      <div class="hand-status" id="deployStatusP2">Deploy Ready</div>
      <div class="spell-opts" data-player="P2" hidden>
        <button class="spell-option" data-player="P2" data-target="left">Left</button>
        <button class="spell-option" data-player="P2" data-target="king">King</button>
        <button class="spell-option" data-player="P2" data-target="right">Right</button>
      </div>
    </div>

    <!-- Bottom (P1) hand -->
    <div class="hand hand-bottom" id="handP1" role="group" aria-label="Player 1 hand">
      <button class="card" data-player="P1" data-card="knight">Knight<br><small>3</small></button>
      <button class="card" data-player="P1" data-card="archer">Archer<br><small>2</small></button>
      <button class="card" data-player="P1" data-card="goblin">Goblin<br><small>2</small></button>
      <button class="card" data-player="P1" data-card="giant">Giant<br><small>5</small></button>
      <button class="card" data-player="P1" data-card="fireball">Fireball<br><small>4</small></button>
      <div class="mana" id="manaP1" aria-hidden="true"><div class="fill"></div><span>10</span></div>
      <div class="hand-status" id="deployStatusP1">Deploy Ready</div>
      <div class="spell-opts" data-player="P1" hidden>
        <button class="spell-option" data-player="P1" data-target="left">Left</button>
        <button class="spell-option" data-player="P1" data-target="king">King</button>
        <button class="spell-option" data-player="P1" data-target="right">Right</button>
      </div>
    </div>

    <!-- Overlay UI -->
    <div id="hud">
      <div class="timer"><span id="time">03:00</span></div>
      <div class="status" id="status">Tap a card, then tap your half to deploy.</div>
    </div>
    <button id="menuBtn" class="floating-menu" aria-label="Game menu"><span aria-hidden="true">☰</span></button>

    <div id="start-overlay" class="overlay">
      <div class="panel menu-panel">
        <h1>Castle Clashers</h1>
        <p class="menu-intro">Choose how you want to clash, then tap Start Match to begin.</p>

        <section class="menu-section" aria-labelledby="modeTitle">
          <h2 id="modeTitle">Game Mode</h2>
          <label class="menu-option">
            <input type="radio" name="mode" value="pvp" />
            Two Players (same device)
          </label>
          <label class="menu-option">
            <input type="radio" name="mode" value="ai" checked />
            Player vs Computer
          </label>
        </section>

        <section class="menu-section" id="difficultySection" aria-labelledby="difficultyTitle">
          <h2 id="difficultyTitle">Computer Difficulty</h2>
          <label class="menu-option">
            <input type="radio" name="difficulty" value="easy" />
            Easy — relaxed pacing, cheap units only
          </label>
          <label class="menu-option">
            <input type="radio" name="difficulty" value="medium" checked />
            Medium — balanced pressure, occasional spells
          </label>
          <label class="menu-option">
            <input type="radio" name="difficulty" value="hard" />
            Hard — aggressive pushes & smart spell usage
          </label>
        </section>

        <section class="menu-section info-section">
          <h2>How to Play</h2>
          <ul>
            <li>P1 bottom, P2 (or Computer) top.</li>
            <li>Tap a card, then tap your half to deploy. Spells use the preset targets.</li>
            <li>Units auto-fight. Destroy the enemy King to win. Mana doubles in the last minute.</li>
          </ul>
        </section>

        <div class="menu-actions">
          <button id="startBtn">Start Match</button>
          <button class="ghost-btn sound-toggle" aria-pressed="false">Sound: Off</button>
        </div>
      </div>
    </div>

    <div id="end-overlay" class="overlay" hidden>
      <div class="panel">
        <h2 id="result-title">Game Over</h2>
        <button id="restartBtn">Play Again</button>
        <button class="ghost-btn sound-toggle" aria-pressed="false">Sound: Off</button>
        <button class="ghost-btn" id="endMenuBtn">Main Menu</button>
      </div>
    </div>

    <div id="pause-overlay" class="overlay" hidden>
      <div class="panel pause-panel">
        <h2>Paused</h2>
        <div class="menu-actions">
          <button id="resumeBtn">Continue</button>
          <button id="pauseRestartBtn">Restart</button>
          <button id="pauseMenuBtn">Main Menu</button>
        </div>
      </div>
    </div>
  </div>

  <script src="castle-clashers.js" defer></script>
</body>
</html>
